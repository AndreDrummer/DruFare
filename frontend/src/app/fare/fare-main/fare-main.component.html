<section class="content-header">
  <h1> Mês Vigente - Julho</h1>
</section>

<!--Botão Add-->
<div class="row">
  <div class="col-md-12">
    <button mat-raised-button mat-min-fab class="btn btn-success btn-round btn-fab pull-right fa fa-plus" title="Novo Gasto" (click)="Novo()"></button>
  </div>
</div>
<!--Fim do botão Add-->

<!--Cards Info-->
<section class="content">
  <div class="row">
    <div class="col-md-12 col-sm-8 col-xs-12">
      <div class="row">
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-red">
              <i class="fa fa-cc-visa"></i>
            </span>
            <div class="info-box-content">
              <span class="info-box-text">Cartão de Crédito</span>
              <span class="info-box-number">
                <small>
                  <b>R$ 625,03</b>
                </small>
                <a class="btn btn-primary btn-sm buttonDetail" title="Detalhes" href="#">
                  <i class="fa fa-eye"></i>
                </a>
              </span>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-yellow">
              <i class="fa fa-money"></i>
            </span>
            <div class="info-box-content">
              <span class="info-box-text">Dinheiro</span>
              <span class="info-box-number">
                <small>
                  <b>R$ 305,00</b>
                </small>
                <a class="btn btn-primary btn-sm buttonDetail" title="Detalhes" href="#">
                  <i class="fa fa-eye"></i>
                </a>
              </span>
            </div>
          </div>
        </div>
        <div class="col-md-4 col-sm-6 col-xs-12">
          <div class="info-box">
            <span class="info-box-icon bg-green">
              <i class="fa fa-dollar"></i>
            </span>
            <div class="info-box-content">
              <span class="info-box-text">Total Gasto</span>
              <span class="info-box-number">
                <small>
                  <b>R$ 930,03</b>
                </small>
                <a class="btn btn-primary btn-sm buttonDetail" title="Detalhes" href="#">
                  <i class="fa fa-eye"></i>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--Fim cards Info-->

  <!--Inserção da Grid-->
  <div class="row">
    <div class="col-md-12 col-sm-8 col-xs-12">
      <dx-data-grid
        [dataSource]="gastos"
        [showColumnLines]="true"
        [showRowLines]="true"
        [showBorders]="true"
        [rowAlternationEnabled]="true"
        [columnAutoWidth]="true"
        (onRowRemoved)="delete($event)">

        <dxo-paging [pageSize]="15"></dxo-paging>
        <dxo-header-filter [visible]="true"></dxo-header-filter>
        <dxo-export [enabled]="true"></dxo-export>
        <dxo-group-panel [visible]="true"></dxo-group-panel>
        <dxo-search-panel [visible]="true"></dxo-search-panel>
        <dxo-grouping [contextMenuEnabled]="true"></dxo-grouping>

        <dxo-editing
          mode="form"
          [allowDeleting]="true"
          [useIcons]="true">
        </dxo-editing>

        <dxi-column dataField="name" caption="Nome" cellTemplate="nameTemplate"></dxi-column>
        <dxi-column dataField="value" format="R$ #,##0.##" caption="Valor"></dxi-column>
        <dxi-column dataField="date" caption="Data" cellTemplate="dateTemplate"></dxi-column>
        <dxi-column dataField="paymentForm" caption="Pagamento"></dxi-column>

        <div *dxTemplate="let item of 'dateTemplate'">
          {{dateFormat(item.data.date)}}
        </div>

        <div *dxTemplate="let item of 'nameTemplate'">
          <a [routerLink]="['/form']" [queryParams]="{id: item.data._id}">{{item.data.name}}</a>
        </div>

      </dx-data-grid>
    </div>
  </div>
  <!--Fim da Grid-->
</section>
